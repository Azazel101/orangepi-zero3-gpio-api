<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orange Pi Setup | Loxone Integration</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='vendor/fontawesome.min.css') }}">
</head>

<body>
    <header>
        <a href="/" class="logo">
            <i class="fas fa-microchip"></i>
            OPI GPIO
        </a>
        <nav class="nav-links">
            <a href="/" class="{{ 'active' if request.path == '/' }}">Dashboard</a>
            <a href="/gpio" class="{{ 'active' if request.path == '/gpio' }}">GPIO Control</a>
            <a href="/network" class="{{ 'active' if request.path == '/network' }}">Network</a>
            <a href="/system" class="{{ 'active' if request.path == '/system' }}">System</a>
        </nav>
        <div style="display: flex; align-items: center; gap: 1rem;">
            <button id="theme-toggle" title="Toggle Dark/Light Mode">
                <i class="fas fa-moon"></i>
            </button>
            <div class="user-status" id="connection-status">
                <span class="badge badge-success"><i class="fas fa-check-circle"></i> Connected</span>
            </div>
        </div>
    </header>

    <script>
        // Init theme before body renders to avoid flash
        (function () {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
                document.querySelector('#theme-toggle i')?.classList.replace('fa-moon', 'fa-sun');
            }
        })();
    </script>

    <main>
        {% block content %}{% endblock %}
    </main>

    <footer style="text-align: center; padding: 2rem; opacity: 0.5; font-size: 0.8rem;">
        &copy; 2026 Orange Pi Zero3 GPIO API | RS Soft
    </footer>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>

</html>